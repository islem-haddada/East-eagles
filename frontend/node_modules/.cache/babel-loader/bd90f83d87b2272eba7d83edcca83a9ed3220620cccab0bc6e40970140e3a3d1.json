{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\n\n// Fonction générique pour les requêtes GET\nexport const get = async endpoint => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`);\n    if (!response.ok) {\n      let text = await response.text();\n      try {\n        const body = JSON.parse(text || '{}');\n        text = body.message || JSON.stringify(body) || text;\n      } catch (e) {\n        // not JSON, keep text\n      }\n      throw new Error(`Erreur ${response.status}: ${text}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Erreur GET:', error);\n    throw error;\n  }\n};\n\n// Fonction générique pour les requêtes POST\nexport const post = async (endpoint, data) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    if (!response.ok) {\n      let text = await response.text();\n      try {\n        const body = JSON.parse(text || '{}');\n        text = body.message || JSON.stringify(body) || text;\n      } catch (e) {\n        // not JSON\n      }\n      throw new Error(`Erreur ${response.status}: ${text}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Erreur POST:', error);\n    throw error;\n  }\n};\n\n// API Membres\nexport const memberAPI = {\n  getAll: () => get('/members'),\n  getById: id => get(`/members/${id}`),\n  create: data => post('/members', data)\n};\n\n// API Événements\nexport const eventAPI = {\n  getAll: () => get('/events'),\n  getById: id => get(`/events/${id}`),\n  create: data => post('/events', data),\n  register: (eventId, memberId) => post(`/events/${eventId}/register`, {\n    member_id: memberId\n  })\n};\n\n// API Annonces\nexport const announcementAPI = {\n  getAll: () => get('/announcements'),\n  getById: id => get(`/announcements/${id}`),\n  create: data => post('/announcements', data)\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","get","endpoint","response","fetch","ok","text","body","JSON","parse","message","stringify","e","Error","status","json","error","console","post","data","method","headers","memberAPI","getAll","getById","id","create","eventAPI","register","eventId","memberId","member_id","announcementAPI"],"sources":["/home/chef/Desktop/Dev/beautiful minds/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\n\n// Fonction générique pour les requêtes GET\nexport const get = async (endpoint) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`);\n    if (!response.ok) {\n      let text = await response.text();\n      try {\n        const body = JSON.parse(text || '{}');\n        text = body.message || JSON.stringify(body) || text;\n      } catch (e) {\n        // not JSON, keep text\n      }\n      throw new Error(`Erreur ${response.status}: ${text}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Erreur GET:', error);\n    throw error;\n  }\n};\n\n// Fonction générique pour les requêtes POST\nexport const post = async (endpoint, data) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    if (!response.ok) {\n      let text = await response.text();\n      try {\n        const body = JSON.parse(text || '{}');\n        text = body.message || JSON.stringify(body) || text;\n      } catch (e) {\n        // not JSON\n      }\n      throw new Error(`Erreur ${response.status}: ${text}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Erreur POST:', error);\n    throw error;\n  }\n};\n\n// API Membres\nexport const memberAPI = {\n  getAll: () => get('/members'),\n  getById: (id) => get(`/members/${id}`),\n  create: (data) => post('/members', data),\n};\n\n// API Événements\nexport const eventAPI = {\n  getAll: () => get('/events'),\n  getById: (id) => get(`/events/${id}`),\n  create: (data) => post('/events', data),\n  register: (eventId, memberId) => post(`/events/${eventId}/register`, { member_id: memberId }),\n};\n\n// API Annonces\nexport const announcementAPI = {\n  getAll: () => get('/announcements'),\n  getById: (id) => get(`/announcements/${id}`),\n  create: (data) => post('/announcements', data),\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}